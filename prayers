#include "shell.h"

/**
* _strtok - divides the string into tokens
*
* @str: string
* @tokens: delimeter
*
* Return: a pointer to the next token or NULL if there are no more tokens
*/

char *_strtok(char *str, char *tokens)
{
	static char *temp;
	int ch = 0;
        int flag = 0;
        int i = 0;
        int len = _strlen(tokens);

	if (str != NULL)
	{
		temp = (char*)malloc(strlen(str));
		_strcpy(temp, str);
	}
	else if (temp == NULL)
		return (NULL);
	else
	{
		str = temp;
	}

	while (*temp)
	{
		for (i = 0; i < len; i++)
		{
			if (*temp == tokens[i])
			{
				if (ch == 0)
				{
					flag = 1;
					str++;
				}
				else
				{
					temp++;
					str[ch] = '\0';
					return (str);
				}
	 		}
		}
	
	if (flag == 0)
		ch++;
	temp++;
	flag = 0;
	}
	temp = NULL;
	str[ch] = '\0';
	return (str);
}
